spring.application.name=Metamapa

#desastresNaturalesAPI configuration
proxy.api.token=rY3j0CD1b4hpJBNWwZvJkva2NhsGEukeS2pFQkjE2yMBmk6sdlGQ5ATQkpYo
proxy.api.base-url=https://api-ddsi.disilab.ar/public

server.port=8083

spring.datasource.url=jdbc:mysql://localhost:3306/metamapa_db
spring.datasource.username=root
spring.datasource.password=metamapa1234
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver
spring.jpa.hibernate.ddl-auto=update

spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
spring.jpa.properties.hibernate.dialect=org.hibernate.dialect.MySQL8Dialect
application.security.jwt.secret-key=QRXN0YUNhZGVuYUVzVXNhZGFQYXJhRWxUUEFudWFsRGVsRERTIUBHcnVwbyMxNERlbEHDsW8yMDI1LUVzcGVyb1F1ZVNlYVNlZ3VyYT0p


# MULTIPART FILE para recibir archivos grandes
spring.servlet.multipart.max-file-size=20MB
spring.servlet.multipart.max-request-size=20MB

# === HIBERNATE BATCH ===
spring.jpa.properties.hibernate.jdbc.batch_size=1000
spring.jpa.properties.hibernate.order_inserts=true
spring.jpa.properties.hibernate.order_updates=true

spring.graphql.graphiql.enabled=true
spring.graphql.path=/graphql

# === RATE LIMITING CONFIGURATION ===
# Límites para endpoints públicos (lectura)
rate.limit.public.capacity=100
rate.limit.public.refill-period=60

# Límites para endpoints autenticados
rate.limit.authenticated.capacity=200
rate.limit.authenticated.refill-period=60

# Límites para endpoints de administración
rate.limit.admin.capacity=500
rate.limit.admin.refill-period=60

# Límites para autenticación (login) - muy estricto para prevenir fuerza bruta
rate.limit.auth.capacity=5
rate.limit.auth.refill-period=300

# Límites para creación de hechos - prevenir spam
rate.limit.create-hecho.capacity=10
rate.limit.create-hecho.refill-period=60

# === IP ACCESS CONTROL CONFIGURATION ===
# Lista Blanca (Whitelist): Si está habilitada, solo las IPs listadas pueden acceder
# Si está deshabilitada, todas las IPs pueden acceder (excepto las de la blacklist)
ip.access.whitelist.enabled=false
# IPs separadas por comas (ej: 192.168.1.1,10.0.0.1,203.0.113.0)
ip.access.whitelist.ips=

# Lista Negra (Blacklist): IPs que siempre serán bloqueadas
ip.access.blacklist.enabled=true
# IPs separadas por comas (ej: 192.168.1.100,10.0.0.50)
ip.access.blacklist.ips=

# Permitir IPs locales (localhost, 127.0.0.1, IPs privadas) incluso si no están en whitelist
ip.access.allow-localhost=true